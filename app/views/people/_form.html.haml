= editing_alert
= simple_form_for @person, :html => {:multipart => true} do |f|
  %fieldset
    = f.error_notification
    .form-group
      = f.input :given_name, as: :string
    .form-group
      = f.input :surname, as: :string, required: false

    .form-group
      #memberships
        = f.fields_for :memberships do |membership_f|
          = render partial: 'membership_fields', locals: { membership_f: membership_f }

      = link_to 'Add new role', add_membership_people_path(id: @person.to_param), id: 'add_membership'

    .form-group
      %h2.line-above Contact details
      = f.input :location, as: :string, label: 'Location of work'
    .form-group
      = f.input :primary_phone_number, as: :string
    .form-group
      = f.input :secondary_phone_number, as: :string
    .form-group
      = f.input :email, as: :string, label: 'Email address'

    .form-group
      %h3.line-above
        %label{ for: :person_description } Notes
      %p.form-hint= info_text('notes_field_hint')
      = f.input :description, label: false, input_html: { class: 'wider' }

    .form-group
      %h3 Working days

    .form-checkbox
      - Person::DAYS_WORKED.each do |day|
        = f.input day, as: :boolean, label: day_name(day)

    .form-group
      %h3.line-above Photograph
      %p.form-hint= info_text('photo_upload_hint')
      = f.input :image, as: :file, label: false

      - if @person.image.present?
        = image_tag @person.image.medium, class: 'preview'
        %p= link_to 'Crop image', edit_person_image_path(@person)

    .form-group
      = f.button :submit
