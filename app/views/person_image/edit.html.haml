%h1
  = "Edit Image"

.grid-wrapper
  .grid.grid-1-2
    .inner-block
      = form_for @person, builder: PersonFormBuilder, html: { multipart: true, class: person_form_class(@person, @activity) } do |f|
        = f.form_group :profile_photo_id, class: 'person-photo initial' do
          = f.label :profile_photo_id, class: 'form-label-bold' do
            Photo
          = f.hidden_field :profile_photo_id
          = f.hidden_field :crop_x
          = f.hidden_field :crop_y
          = f.hidden_field :crop_w
          = f.hidden_field :crop_h

          %p.form-hint.crop-hint
            = info_text('photo_crop_hint')

          %div.preview-box
            = profile_image_tag @person, class: 'preview'
          %p.hidden
            %a{href: '#', class: 'crop-again-button'}
              Crop image again
          %div.upload-button-bar
            %div.initial-state
              %label{ for: 'person-image', class: 'form-hint upload-hint' }
                = info_text('photo_upload_hint')
              .js-photo-upload-error.alert-error.hidden
              %p
                %input{ name: 'profile_photo[image]', id: 'person-image', type: 'file', class: 'form-control file' }
                %a{href: '#', class: 'reset-image-button'}
                  Reset to default
              %button.photo-upload-button.button.hidden
                Upload photo
              %p.form-hint.uploading-hint
                Uploading
              %button.crop-finished-button.button-secondary
                Crop picture

          .form-group.save-cancel-actions
            = f.submit class: 'button'
            .cancel
              = link_to 'Cancel and go to profile page', @person.new_record? ? :back : @person
  .grid.grid-1-2
    .inner-block
      %ol
        %li
          1. Choose a photo or drag and drop
        %li
          2. Click the Upload photo button
        %li
          3. Use your mouse to adjust the crop lines
        %li
          4. Click the Crop picture button
        %li
          5. Click the Save button
